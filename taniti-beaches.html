<!doctype html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Taniti Island - Beaches</title>
    <meta title="Taniti Island - Beaches" content="Beaches">
    <meta name="description" content="Taniti Island - Beaches">
    <meta name="author" content="Josh Shirley">

    <meta property="og:title" content="Taniti Island - Beaches">
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://generic.co">
    <meta property="og:description" content="">
    <meta property="og:image" content="image.png">

    <link rel="icon" href="media/favicon/favicon.ico">

    <link rel="apple-touch-icon" href="media/favicon/apple-touch-icon.png">

    <!-- External stylesheet -->

    <link rel="stylesheet" href="css/normalize.css">
    <link rel="stylesheet" href="css/structure.css">
    <link rel="stylesheet" href="css/beaches.css">

    <!-- <link rel="stylesheet" href="css/style.css?v=1.0"> -->

    <!-- Pre Load Javascripts -->
    <script src="data/beaches.js"></script>
</head>

<body>

    <header>
        <div class="container">
            <div class="logo">
                <a href="index.html">Taniti Island</a>
            </div>

            <nav class="menu" id="mainMenu">
                <!-- Edit links in the menu.js file -->
            </nav>

            <div class="hamburger" id="activateMenu" onclick="Menu.toggle();">
                <a href="#">
                    <span></span>
                    <span></span>
                    <span></span>
                </a>
            </div>
        </div>
    </header>

    <main>

    </main>

    <footer>
        <div class="container">
            <div class="row">
                <div class="col-12">
                    <p class="version alignCenter">Current Version: <span id="versionNumber">1.00</span></p>
                </div>
            </div>

            <div class="row">
                <div class="col-12">
                    <p class="publicLicense alignCenter">This application is shared using a <a href="public-license.html" target="_blank">GNU GENERAL PUBLIC LICENSE</a>. </p>
                </div>
            </div>

            <div class="row">
                <div class="col-12">
                    <p class="copyright alignCenter">Copyright &copy; <span id="copyrightYear">2021</span>, Joshua Shirley</p>
                </div>
            </div>

        </div>
    </footer>

    <!-- Final Load Javascripts -->
    <!-- Majority of js code should go here -->
    <script src="js/icons.js"></script>
    <script src="js/footer.js"></script>
    <script src="js/menu.js"></script>

    <script>
        var main = document.querySelector("main");

        // build a secondary menu
        var section = document.createElement("section");
        section.id = "beachMenu";

        var divC = document.createElement("div");
        divC.classList.add("container");
        section.appendChild(divC);

        var secondMenu = document.createElement("ul");
        secondMenu.classList.add("beaches");

        var beach = beaches.map(beach => beach.title);
        beach.forEach(b => {

            var li = document.createElement("li");
            var link = document.createElement("a");
            link.href = "#" + b.replaceAll(' ', '');
            link.innerText = b;
            li.appendChild(link);

            secondMenu.appendChild(li);
        });

        divC.appendChild(secondMenu);

        main.appendChild(section);

        beaches.forEach(beach => {

            // Build the section
            var section = document.createElement("section");
            section.id = beach.title.replaceAll(' ', '');
            var container = document.createElement("div");
            container.classList.add("container");
            section.appendChild(container);

            // Build the image div
            var imageDiv = document.createElement("div");
            imageDiv.classList.add("imageHolder");
            var img = document.createElement("img");
            img.src = beach.images[0].url;
            img.alt = beach.images[0].alt;
            imageDiv.appendChild(img);
            section.prepend(imageDiv);

            // Build the title div
            var titleDiv = document.createElement("div");
            titleDiv.classList.add("beachTitle");
            titleDiv.innerHTML = beach.title;
            container.appendChild(titleDiv);

            // Build the short desc div
            var shortDiv = document.createElement("div");
            shortDiv.classList.add("shortDesc");
            var p1 = document.createElement("p");
            p1.innerHTML = beach.shortDesc;
            shortDiv.appendChild(p1);
            container.appendChild(shortDiv);

            // Build the desc div
            var desc = document.createElement("div");
            desc.classList.add("description");
            var p2 = document.createElement("p");
            p2.innerHTML = beach.description;
            desc.appendChild(p2);
            container.appendChild(desc);

            main.appendChild(section);

        });

        var secondaryMenu = document.querySelectorAll("ul.beaches a");
        secondaryMenu.forEach(link => {
            link.addEventListener("click", function(e) {
                e.preventDefault();
                scollDown(link.getAttribute("href").replace("#", ""));
            });
        });

        function scollDown(elementId) {
            var t = document.getElementById(elementId);
            var position = t.getBoundingClientRect();

            window.scrollTo({
                top: position.top,
                behavior: "smooth"
            });
        }
    </script>

    <!-- Inessential Optional Add Ons -->
    <script src="js/scrollTopButton.js"></script>

</body>

</html>